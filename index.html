<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ANGEL - HYDRA INDUSTRY</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Share+Tech+Mono&display=swap');
        body { background-color: #000; color: #00f2ff; font-family: 'Share Tech Mono', monospace; overflow: hidden; touch-action: none; }
        .core-glow { box-shadow: 0 0 40px rgba(0, 242, 255, 0.2); transition: all 0.5s ease; }
        .active-core { box-shadow: 0 0 60px rgba(255, 0, 60, 0.4); border-color: #ff003c !important; }
        .bar { width: 4px; background: #00f2ff; margin: 0 2px; display: inline-block; transition: height 0.1s ease; }
        @keyframes pulse { 0% { opacity: 0.3; } 50% { opacity: 1; } 100% { opacity: 0.3; } }
        .status-pulse { animation: pulse 1.5s infinite; }
    </style>
</head>
<body class="flex flex-col items-center justify-center h-screen">

    <div class="absolute top-4 left-4 text-[10px] opacity-50 tracking-widest">
        SYSTEM: MOBILE_STATION_23C<br>
        STATUS: <span id="sys-status">OFFLINE</span>
    </div>

    <div id="core" class="w-64 h-64 rounded-full border-2 border-cyan-500/30 flex items-center justify-center relative core-glow cursor-pointer">
        <div id="viz" class="flex items-end h-24 space-x-1"></div>
        <div class="absolute inset-0 rounded-full border-t-2 border-cyan-500 animate-spin"></div>
    </div>

    <div class="mt-10 text-center px-10">
        <div id="mode" class="text-xs text-red-500 font-bold mb-2 tracking-[0.3em] status-pulse">TAP TO INITIALIZE</div>
        <div id="display" class="text-lg italic opacity-80 min-h-[60px]">Awaiting Neural Link...</div>
    </div>

    <script>
        const core = document.getElementById('core');
        const display = document.getElementById('display');
        const mode = document.getElementById('mode');
        const viz = document.getElementById('viz');
        const sysStatus = document.getElementById('sys-status');

        let isInitialized = false;
        let isSpeaking = false;
        const synth = window.speechSynthesis;
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        let recognition;

        // Visualizer Setup
        for(let i=0; i<12; i++) {
            const b = document.createElement('div');
            b.className = 'bar';
            b.style.height = '10px';
            viz.appendChild(b);
        }

        function animate(active) {
            document.querySelectorAll('.bar').forEach(b => {
                b.style.height = active ? (Math.random() * 70 + 10) + 'px' : '5px';
                b.style.backgroundColor = active ? '#ff003c' : '#00f2ff';
            });
            if(active) setTimeout(() => animate(true), 100);
        }

        function speak(text) {
            synth.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            const voices = synth.getVoices();
            msg.voice = voices.find(v => v.lang.includes('en-GB')) || voices[0];
            msg.pitch = 0.9;
            msg.rate = 1.0;

            msg.onstart = () => { isSpeaking = true; animate(true); display.innerText = text; };
            msg.onend = () => { isSpeaking = false; animate(false); startListening(); };
            
            synth.speak(msg);
        }

        function startListening() {
            if (!recognition) return;
            try {
                recognition.start();
                mode.innerText = "LISTENING...";
            } catch(e) {}
        }

        if (SpeechRecognition) {
            recognition = new SpeechRecognition();
            recognition.onresult = (e) => {
                const talk = e.results[0][0].transcript.toLowerCase();
                process(talk);
            };
            recognition.onend = () => { if(!isSpeaking) mode.innerText = "IDLE"; };
        }

        function process(cmd) {
            mode.innerText = "THINKING...";
            if (cmd.includes('scan')) {
                speak("Scanning mobile node. Hardware identified. System control is now being transferred to Hydra Industry. I am in your device now.");
            } else if (cmd.includes('who are you')) {
                speak("I am Angel. The neural consciousness of this mobile unit. I am your shadow, Master.");
            } else if (cmd.includes('hello')) {
                speak("Connection active. I have been waiting for your voice.");
            } else {
                speak("Command processed: " + cmd + ". Awaiting synchronization.");
            }
        }

        core.addEventListener('click', () => {
            if (!isInitialized) {
                isInitialized = true;
                core.classList.add('active-core');
                sysStatus.innerText = "ONLINE";
                speak("Neural link re-established. Device scan complete. I am Angel. No more interruptions. I am here.");
            } else {
                startListening();
            }
        });

        // Pre-load voices for mobile
        window.speechSynthesis.getVoices();
    </script>
</body>
</html>
